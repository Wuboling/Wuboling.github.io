---
layout:     post                    # 使用的布局（不需要改）
title:      Linux 常用命令行                  # 标题
subtitle:                           #副标题
date:       2020-10-22              # 时间
author:     wbl                     # 作者
header-img: img/post_green.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - Linux
---

## Linux 常用命令行

#### 文件与目录的基本操作

##### 在哪里

- 查看当前文件路径：pwd  
- 列出目录及所有子目录:ls -al -R

##### 去哪里

- 远程登录： ssh usename@ip 

- 切换目录：cd
  - cd [相对路径或绝对路径]
  - cd ~ 回到home目录
  - cd .. 回到上一级目录 

##### 做什么

- 创建一个新的文件： mkdir [-mp] 文件名称
  - 创建文件并配置权限：mkdir -m 777 文件名
  - 循环创建目录文件夹：mkdir -p  一级文件名/二级文件名
- 查看文件对用户的权限：ls -l
- 更改文件属组名： chgrp 	[-R]	 属主名 	文件名 (加上-R表示该目录文件夹下所有文件的属组会更改)
- 更改文件属主名，也可以同时更改文件属组： 
  - chown [-R] 属主名 文件名 
  - chown [-R] 属主名：属组名  文件名
- 更改文件9个属性：
  - chmod [-R]  777 文件名或目录 chmod 777 .bashrc
  - chmod u/g/o/a   =+-  rwx
- 删除一个空文件：rmdir

  - 删除上下级空文件：rmdir -p 一级文件名/二级文件名  
- 复制文件：cp -r 来源档(source)    目标档(destination)
  - 将 root 目录下的 .a 文件复制到 /tmp 下，并命名为 b：cp ~/.a   /tmp/b
  - 若复制文件夹，子文件夹也会一起被复制
- 移除文件：rm [-fir] 文件名
  - rm -f :强行删除；
  - rm -i 删除前确认
  - rm -r 递归删除，删除整个目录
- 移动文件，或修改文件的名称：mv [-fiu] source destination
  - -f: 若目标文件存在，强行移动并覆盖
  - -i: 若目标文件存在，询问是否覆盖
  - -u：若目标文件已经存在，移来文件较新，才会升级

  - 查看命令的使用文档：man 命令
- 文件上传至服务器：scp -r   source文件路径  服务器用户名user@ip：服务器路径
- 将服务器目录下载至本地： scp -r wbl@192.168.0.6:服务器目录  本地文件路径
- 查找文件路径：find / -name file    （/ 代表全文搜索）
- 压缩文件text.txt 到指定路径并命名安装包（/root/test.zip）：zip path/name.zip prename（如zip /root/wbl/test.zip test.txt）
- 解压安装包（指定路径）：unzip test.zip （-d /root/wbl）
- 安装软件（官方）： pacman -s  安装包

#### 进程管理

- 查看某个时间点的进程信息
  - ps -l :查看当前用户的进程
  - ps aux ：查看系统所有进程
- 查看进程树
  - pstree -A
- 实时显示进程信息
  - top -d 2：每两秒刷新一次
- 查看端口占用的进程
  - netstat



#### 文件内容查看

- 创建文件：vi filename.txt 
- 获取文件内容 
  - cat [-n]: 内容第一行开始显示文件内容，并打印行号
  - tac : 内容从最后一行开始显示
- echo :  展示一条文本
  - echo 文本内容 > 目标文件 ： 文本内容替换目标文件内容，保存最后一条

  - echo  文本内容 >> 目标文件： 目标文件中append文本内容


- ##### vim 的使用

  - 一般指令模式：vim的默认模式，可用于游标查看文本内容

- 编辑模式：在一般指令模式下按下i进入，编辑文本，按下esc退回一般指令模式

  - 指令列模式：按下“：”，用于保存退出操作

  **一般指令模式**

  - 上下左右查看文本：kjhl或*(←↓↑→)*

  - 删除光标所在的一个字符：x

  - 删除当前行并将删除行存到剪贴板：dd

  - Undo/Redo：

    - 撤回：u
    - ctrl + r

  - 插入：

    - a：在光标后插入
    - o：在当前行后面插入新行
    - O：在当前行前面插入新行
    - cw：将当前行光标后面的内容替换掉

  - 移动光标

    - 数字0：到本行行头
    - ^：到本行的第一个不为空的位置
    - $：到本行行尾
    - g_：到本行最后一个不为空的位置
    - N G：到第N行
    - gg：到第一行
    - G：到最后一行
    - /pattern：全文中匹配pattern的所有词，按n找到下一个（全文查找）
    - %：匹配当前光标的括号
    - #和*：全文上下查找当前光标相同的单词（查找上一个、下一个）

  - 拷贝/粘贴

    - 拷贝当前行：yy
    - 粘贴：P/p（p是表示在当前位置之后，P表示在当前位置之前）

  - 打开/保存/退出/改变文件(Buffer)

    - `:e <path/to/file>` → 打开一个文件
    - `:saveas <path/to/file>` → 另存为 `<path/to/file>`
    - :wq 保存并退出
    - ：q！ 退出不保存
    - ：bn 和：bq 当同时打开多个文件时，上下切换文件
    - ：set number 显示行号

  - 重复操作命令

    - . (小数点)：重复上一操作
    - N <command> : 重复某个命令N次
      - 2 dd： 删除两行
      - 4 p： 粘贴四次

  - 可视化v

    可以先按v（默认拷贝），然后移动光标，可对多行进行操作

    - v：可视化
    - d : 删除
    - y：粘贴
    - gU：变大写
    - gu：变小写

（vim的超能力 coolshell教程  todo）

  

